{"ast":null,"code":"import _classCallCheck from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/lala/spalifeandstory/src/components/Client/Client.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport ClientEdit from \"./ClientEdit\";\nimport ClientListing from \"./ClientListing\";\nimport MakeContextConsumer from \"../Auth/MakeContextConsumer\";\n\nvar Client =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Client, _Component);\n\n  function Client(props) {\n    var _this;\n\n    _classCallCheck(this, Client);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Client).call(this, props));\n    _this.state = {\n      clients: [],\n      subscriptions: []\n    };\n    _this.updateClients = _this.updateClients.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateClient = _this.updateClient.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateAllClients = _this.updateAllClients.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getClient = _this.getClient.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.renderToClientListing = _this.renderToClientListing.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.renderToClientEdit = _this.renderToClientEdit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Client, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"Hello Did Mount\");\n      var $this = this;\n      this.props.authAxios({\n        method: \"get\",\n        url: \"/api/v1/clients\"\n      }).then(function (response) {\n        $this.setState({\n          clients: response.data.data.clients,\n          subscriptions: response.data.data.subscriptions\n        });\n      });\n    }\n  }, {\n    key: \"updateClients\",\n    value: function updateClients(client) {\n      var clients = this.state.clients;\n      clients.push(client);\n      this.setState({\n        clients: clients\n      });\n    }\n  }, {\n    key: \"updateClient\",\n    value: function updateClient(client) {\n      var _this2 = this;\n\n      var currentClient = client;\n      var clients = this.state.clients;\n      clients.map(function (client, index) {\n        if (client.id == currentClient.id) {\n          clients[index] = currentClient;\n\n          _this2.setState({\n            clients: clients\n          });\n        }\n      });\n    }\n  }, {\n    key: \"updateAllClients\",\n    value: function updateAllClients(clients) {\n      console.log(clients);\n      this.setState({\n        clients: clients.clients\n      });\n    }\n  }, {\n    key: \"getClient\",\n    value: function getClient(id) {\n      var currentClient;\n      this.state.clients.map(function (client) {\n        if (client.id == id) {\n          currentClient = client;\n        }\n      });\n      return currentClient;\n    }\n  }, {\n    key: \"renderToClientListing\",\n    value: function renderToClientListing() {\n      return React.createElement(ClientListing, {\n        match: this.props.match,\n        clients: this.state.clients,\n        updateClients: this.updateClients,\n        updateContent: this.updateAllClients,\n        authAxios: this.props.authAxios,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"renderToClientEdit\",\n    value: function renderToClientEdit(props) {\n      return React.createElement(ClientEdit, Object.assign({}, props, {\n        content: this.getClient(props.match.params.id),\n        updateClient: this.updateClient,\n        subscriptions: this.state.subscriptions,\n        contentType: \"client\",\n        authAxios: this.props.authAxios,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var match = this.props.match;\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"\".concat(match.path),\n        exact: true,\n        component: this.renderToClientListing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"\".concat(match.path, \"/:id/clientedit\"),\n        component: this.renderToClientEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Client;\n}(Component);\n\nexport default MakeContextConsumer(Client);","map":{"version":3,"sources":["/home/lala/spalifeandstory/src/components/Client/Client.js"],"names":["React","Component","Fragment","Route","ClientEdit","ClientListing","MakeContextConsumer","Client","props","state","clients","subscriptions","updateClients","bind","updateClient","updateAllClients","getClient","renderToClientListing","renderToClientEdit","console","log","$this","authAxios","method","url","then","response","setState","data","client","push","currentClient","map","index","id","match","params","path"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport { Route } from \"react-router-dom\";\n\nimport ClientEdit from \"./ClientEdit\";\nimport ClientListing from \"./ClientListing\";\nimport MakeContextConsumer from \"../Auth/MakeContextConsumer\";\n\nclass Client extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      clients: [],\n      subscriptions: []\n    };\n    this.updateClients = this.updateClients.bind(this);\n    this.updateClient = this.updateClient.bind(this);\n    this.updateAllClients = this.updateAllClients.bind(this);\n    this.getClient = this.getClient.bind(this);\n    this.renderToClientListing = this.renderToClientListing.bind(this);\n    this.renderToClientEdit = this.renderToClientEdit.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(\"Hello Did Mount\");\n    let $this = this;\n    this.props\n      .authAxios({\n        method: \"get\",\n        url: \"/api/v1/clients\"\n      })\n      .then(function(response) {\n        $this.setState({\n          clients: response.data.data.clients,\n          subscriptions: response.data.data.subscriptions\n        });\n      });\n  }\n\n  updateClients(client) {\n    let clients = this.state.clients;\n    clients.push(client);\n    this.setState({\n      clients: clients\n    });\n  }\n\n  updateClient(client) {\n    let currentClient = client;\n    let clients = this.state.clients;\n    clients.map((client, index) => {\n      if (client.id == currentClient.id) {\n        clients[index] = currentClient;\n        this.setState({\n          clients: clients\n        });\n      }\n    });\n  }\n\n  updateAllClients(clients) {\n    console.log(clients);\n    this.setState({\n      clients: clients.clients\n    });\n  }\n\n  getClient(id) {\n    let currentClient;\n    this.state.clients.map(function(client) {\n      if (client.id == id) {\n        currentClient = client;\n      }\n    });\n    return currentClient;\n  }\n\n  renderToClientListing() {\n    return (\n      <ClientListing\n        match={this.props.match}\n        clients={this.state.clients}\n        updateClients={this.updateClients}\n        updateContent={this.updateAllClients}\n        authAxios={this.props.authAxios}\n      />\n    );\n  }\n\n  renderToClientEdit(props) {\n    return (\n      <ClientEdit\n        {...props}\n        content={this.getClient(props.match.params.id)}\n        updateClient={this.updateClient}\n        subscriptions={this.state.subscriptions}\n        contentType=\"client\"\n        authAxios={this.props.authAxios}\n      />\n    );\n  }\n\n  render() {\n    const { match } = this.props;\n    return (\n      <Fragment>\n        <Route\n          path={`${match.path}`}\n          exact\n          component={this.renderToClientListing}\n        />\n        <Route\n          path={`${match.path}/:id/clientedit`}\n          component={this.renderToClientEdit}\n        />\n      </Fragment>\n    );\n  }\n}\nexport default MakeContextConsumer(Client);\n"]},"metadata":{},"sourceType":"module"}