{"ast":null,"code":"import _defineProperty from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/lala/spalifeandstory/src/components/Subscription/SubcriptionForm.js\";\nimport React, { Component } from \"react\";\nimport { Modal, ModalHeader, ModalBody } from \"reactstrap\";\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\nimport { FieldValidator } from \"../../Utilities/FormValidation\";\nimport SubcriptionForm from \"./SubcriptionForm\";\n\nvar SubscriptionForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SubscriptionForm, _Component);\n\n  function SubscriptionForm(props) {\n    var _this;\n\n    _classCallCheck(this, SubscriptionForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SubscriptionForm).call(this, props));\n    _this.state = _this.props.formFields;\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onModalClosed = _this.onModalClosed.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SubscriptionForm, [{\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      e.preventDefault();\n\n      if (e.target.name == \"package\") {\n        this.handlePackage(e.target.value);\n      }\n\n      console.log(e);\n      var error = false;\n      var field = this.props.formFields[e.target.name];\n      field.value = e.target.value;\n\n      if (!FieldValidator(field)) {\n        error = true;\n      }\n\n      this.setState(_defineProperty({}, e.target.name, {\n        value: e.target.value,\n        error: error,\n        constraints: field.constraints\n      }));\n    }\n  }, {\n    key: \"checkFormValid\",\n    value: function checkFormValid() {\n      var _this2 = this;\n\n      var isValid = true;\n      var tempState = Object.assign({}, this.props.formFields);\n\n      var _loop = function _loop(field) {\n        if (!FieldValidator(_this2.state[field])) {\n          _this2.setState(function (previousState) {\n            tempState[field] = {\n              value: _this2.state[field].value,\n              error: true,\n              constraints: _this2.state[field].constraints\n            };\n          });\n\n          console.log(_this2.state);\n          isValid = false;\n        }\n      };\n\n      for (var field in this.state) {\n        _loop(field);\n      }\n\n      return isValid;\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n\n      if (this.checkFormValid()) {\n        var formData = this.props.formFields;\n\n        for (var field in this.state) {\n          formData[field] = this.state[field].value;\n        }\n\n        this.props.submitCall(formData);\n      }\n    }\n  }, {\n    key: \"handleDate\",\n    value: function handleDate(day, dayPickerInput, handleChange) {\n      console.log(dayPickerInput);\n      var e = {\n        target: {\n          name: \"start_date\",\n          value: day\n        },\n        preventDefault: function preventDefault() {\n          return \"\";\n        }\n      };\n      return handleChange(e);\n    }\n  }, {\n    key: \"handlePackage\",\n    value: function handlePackage(id) {\n      return this.populateFields(this.props.onPackageChange(id));\n    }\n  }, {\n    key: \"populateFields\",\n    value: function populateFields(fieldsObject) {\n      console.log(fieldsObject || \"not found\");\n      this.setState(function (previous_state) {\n        return fieldsObject;\n      });\n    }\n  }, {\n    key: \"onModalClosed\",\n    value: function onModalClosed() {\n      this.setState(this.props.formFields);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          modal = _this$props.modal,\n          toggle = _this$props.toggle;\n      console.log(this.state);\n      return React.createElement(Modal, {\n        isOpen: modal,\n        toggle: toggle,\n        style: {\n          maxWidth: 1110\n        },\n        onClosed: this.onModalClosed,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        toggle: toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Add Subscription\"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"first_name\",\n        className: \"control-label mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Subscription ID\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"disabled-input\",\n        name: \"subscription_id\",\n        value: this.state.subscription_id.value,\n        disabled: true,\n        className: \"form-control\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), this.state.subscription_id.error ? React.createElement(\"small\", {\n        id: \"subscription-id-error\",\n        className: \"form-text form-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Subscription Id Is Required\") : \"\")), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"control-label mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Package\"), React.createElement(\"select\", {\n        name: \"package\",\n        id: \"country\",\n        className: \"form-control\",\n        onChange: this.handleChange,\n        value: this.state.subscription_id.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Select Package\"), this.props.subscriptions.map(function (subs, index) {\n        return React.createElement(\"option\", {\n          value: subs.id,\n          key: subs.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, subs.name);\n      })), this.state.package.error ? React.createElement(\"small\", {\n        id: \"first-name-error\",\n        className: \"form-text form-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Package Is Required\") : \"\")), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"control-label mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"input\", {\n        name: \"description\",\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.description.value,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }), this.state.description.error ? React.createElement(\"small\", {\n        id: \"first-name-error\",\n        className: \"form-text form-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Description Is Required\") : \"\")), React.createElement(\"div\", {\n        className: \"row form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"control-label mb-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"Start Date\"), React.createElement(\"div\", {\n        className: \"w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), React.createElement(DayPickerInput, {\n        value: this.state.start_date.value ? new Date(this.state.start_date.value) : new Date(),\n        onDayChange: function onDayChange(e, modifier, dayPickerInput) {\n          _this3.handleDate(e, dayPickerInput, _this3.handleChange);\n        },\n        name: \"start_date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), this.state.start_date.error ? React.createElement(\"small\", {\n        id: \"first-name-error\",\n        className: \"form-text form-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"Start Date Is Required\") : \"\")), React.createElement(\"div\", {\n        className: \"form-btn-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"add-subscription\",\n        type: \"button\",\n        className: \"btn btn-primary btn-lg\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"zmdi zmdi-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), \"Add\")))));\n    }\n  }]);\n\n  return SubscriptionForm;\n}(Component);\n\nexport default SubscriptionForm;","map":{"version":3,"sources":["/home/lala/spalifeandstory/src/components/Subscription/SubcriptionForm.js"],"names":["React","Component","Modal","ModalHeader","ModalBody","DayPickerInput","FieldValidator","SubcriptionForm","SubscriptionForm","props","state","formFields","handleChange","bind","handleSubmit","onModalClosed","e","preventDefault","target","name","handlePackage","value","console","log","error","field","setState","constraints","isValid","tempState","Object","assign","previousState","checkFormValid","formData","submitCall","day","dayPickerInput","id","populateFields","onPackageChange","fieldsObject","previous_state","modal","toggle","maxWidth","subscription_id","subscriptions","map","subs","index","package","description","start_date","Date","modifier","handleDate"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, ModalHeader, ModalBody } from \"reactstrap\";\nimport DayPickerInput from \"react-day-picker/DayPickerInput\";\n\nimport { FieldValidator } from \"../../Utilities/FormValidation\";\nimport SubcriptionForm from \"./SubcriptionForm\";\n\nclass SubscriptionForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = this.props.formFields;\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onModalClosed = this.onModalClosed.bind(this);\n  }\n\n  handleChange(e) {\n    e.preventDefault();\n    if (e.target.name == \"package\") {\n      this.handlePackage(e.target.value);\n    }\n    console.log(e);\n    let error = false;\n    let field = this.props.formFields[e.target.name];\n    field.value = e.target.value;\n    if (!FieldValidator(field)) {\n      error = true;\n    }\n\n    this.setState({\n      [e.target.name]: {\n        value: e.target.value,\n        error: error,\n        constraints: field.constraints\n      }\n    });\n  }\n\n  checkFormValid() {\n    let isValid = true;\n    let tempState = Object.assign({}, this.props.formFields);\n    for (let field in this.state) {\n      if (!FieldValidator(this.state[field])) {\n        this.setState(previousState => {\n          tempState[field] = {\n            value: this.state[field].value,\n            error: true,\n            constraints: this.state[field].constraints\n          };\n        });\n\n        console.log(this.state);\n        isValid = false;\n      }\n    }\n    return isValid;\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    if (this.checkFormValid()) {\n      let formData = this.props.formFields;\n      for (let field in this.state) {\n        formData[field] = this.state[field].value;\n      }\n      this.props.submitCall(formData);\n    }\n  }\n\n  handleDate(day, dayPickerInput, handleChange) {\n    console.log(dayPickerInput);\n\n    let e = {\n      target: {\n        name: \"start_date\",\n        value: day\n      },\n      preventDefault: () => {\n        return \"\";\n      }\n    };\n    return handleChange(e);\n  }\n\n  handlePackage(id) {\n    return this.populateFields(this.props.onPackageChange(id));\n  }\n\n  populateFields(fieldsObject) {\n    console.log(fieldsObject || \"not found\");\n    this.setState(previous_state => {\n      return fieldsObject;\n    });\n  }\n  onModalClosed() {\n    this.setState(this.props.formFields);\n  }\n  render() {\n    const { modal, toggle } = this.props;\n    console.log(this.state);\n    return (\n      <Modal\n        isOpen={modal}\n        toggle={toggle}\n        style={{ maxWidth: 1110 }}\n        onClosed={this.onModalClosed}\n      >\n        <ModalHeader toggle={toggle}>Add Subscription</ModalHeader>\n\n        <ModalBody>\n          <div>\n            <div className=\"row form-group\">\n              <div className=\"col col-md-3\">\n                <label htmlFor=\"first_name\" className=\"control-label mb-1\">\n                  Subscription ID\n                </label>\n                <input\n                  type=\"text\"\n                  id=\"disabled-input\"\n                  name=\"subscription_id\"\n                  value={this.state.subscription_id.value}\n                  disabled={true}\n                  className=\"form-control\"\n                  onChange={this.handleChange}\n                />\n                {this.state.subscription_id.error ? (\n                  <small\n                    id=\"subscription-id-error\"\n                    className=\"form-text form-error\"\n                  >\n                    Subscription Id Is Required\n                  </small>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </div>\n\n            <div className=\"row form-group\">\n              <div className=\"col col-md-12\">\n                <label className=\"control-label mb-1\">Package</label>\n                <select\n                  name=\"package\"\n                  id=\"country\"\n                  className=\"form-control\"\n                  onChange={this.handleChange}\n                  value={this.state.subscription_id.value}\n                >\n                  <option value=\"0\">Select Package</option>\n                  {this.props.subscriptions.map(function(subs, index) {\n                    return (\n                      <option value={subs.id} key={subs.id}>\n                        {subs.name}\n                      </option>\n                    );\n                  })}\n                </select>\n                {this.state.package.error ? (\n                  <small id=\"first-name-error\" className=\"form-text form-error\">\n                    Package Is Required\n                  </small>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </div>\n\n            <div className=\"row form-group\">\n              <div className=\"col col-md-12\">\n                <label className=\"control-label mb-1\">Description</label>\n                <input\n                  name=\"description\"\n                  type=\"text\"\n                  className=\"form-control\"\n                  value={this.state.description.value}\n                  onChange={this.handleChange}\n                />\n                {this.state.description.error ? (\n                  <small id=\"first-name-error\" className=\"form-text form-error\">\n                    Description Is Required\n                  </small>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </div>\n\n            <div className=\"row form-group\">\n              <div className=\"col col-md-12\">\n                <label className=\"control-label mb-1\">Start Date</label>\n                <div className=\"w-100\" />\n                <DayPickerInput\n                  value={\n                    this.state.start_date.value\n                      ? new Date(this.state.start_date.value)\n                      : new Date()\n                  }\n                  onDayChange={(e, modifier, dayPickerInput) => {\n                    this.handleDate(e, dayPickerInput, this.handleChange);\n                  }}\n                  name=\"start_date\"\n                />\n                {this.state.start_date.error ? (\n                  <small id=\"first-name-error\" className=\"form-text form-error\">\n                    Start Date Is Required\n                  </small>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            </div>\n\n            <div className=\"form-btn-footer\">\n              <button\n                id=\"add-subscription\"\n                type=\"button\"\n                className=\"btn btn-primary btn-lg\"\n                onClick={this.handleSubmit}\n              >\n                <i className=\"zmdi zmdi-plus\" />\n                Add\n              </button>\n            </div>\n          </div>\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nexport default SubscriptionForm;\n"]},"metadata":{},"sourceType":"module"}