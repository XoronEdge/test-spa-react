{"ast":null,"code":"import _classCallCheck from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/lala/spalifeandstory/src/components/Lead/LeadDetail.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport HocForm from \"../Shared/HocForm\";\nimport LeadEditForm from \"./LeadEditForm\";\nimport { LeadFields } from \"../../Utilities/FormsModel\";\nimport Comment from \"../Shared/Comment/Comment\";\n\nvar LeadDetail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LeadDetail, _Component);\n\n  function LeadDetail(props) {\n    var _this;\n\n    _classCallCheck(this, LeadDetail);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LeadDetail).call(this, props));\n    _this.initfields = _this.initfields.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editLeadCall = _this.editLeadCall.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(LeadDetail, [{\n    key: \"initfields\",\n    value: function initfields() {\n      var fieldState = new LeadFields();\n\n      for (var field in fieldState) {\n        fieldState[field].value = this.props.lead[field];\n      }\n\n      return fieldState;\n    }\n  }, {\n    key: \"editLeadCall\",\n    value: function editLeadCall(formData) {\n      var $this = this;\n      this.props.authAxios({\n        method: \"put\",\n        url: \"/api/v1/leads/\".concat(this.props.lead.id),\n        data: {\n          lead: formData\n        },\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      }).then(function (response) {\n        console.log(response);\n        $this.props.updateLead(response.data.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"why you call me\");\n      return React.createElement(\"div\", {\n        className: \"tab-pane fade active show\",\n        id: \"lead-details\",\n        role: \"tab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(HocForm, {\n        FormView: LeadEditForm,\n        formFields: this.initfields(),\n        isFilled: true,\n        submitCall: this.editLeadCall,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(Comment, {\n        owner: \"leads\",\n        ownerId: this.props.lead.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return LeadDetail;\n}(Component);\n\nexport { LeadDetail as default };","map":{"version":3,"sources":["/home/lala/spalifeandstory/src/components/Lead/LeadDetail.js"],"names":["React","Component","axios","HocForm","LeadEditForm","LeadFields","Comment","LeadDetail","props","initfields","bind","editLeadCall","fieldState","field","value","lead","formData","$this","authAxios","method","url","id","data","headers","then","response","console","log","updateLead","catch","error"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,UAAT,QAA2B,4BAA3B;AACA,OAAOC,OAAP,MAAoB,2BAApB;;IAEqBC,U;;;;;AACnB,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;AACA,UAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,uDAAlB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,uDAApB;AAHiB;AAIlB;;;;iCAEY;AACX,UAAIE,UAAU,GAAG,IAAIP,UAAJ,EAAjB;;AACA,WAAK,IAAIQ,KAAT,IAAkBD,UAAlB,EAA8B;AAC5BA,QAAAA,UAAU,CAACC,KAAD,CAAV,CAAkBC,KAAlB,GAA0B,KAAKN,KAAL,CAAWO,IAAX,CAAgBF,KAAhB,CAA1B;AACD;;AACD,aAAOD,UAAP;AACD;;;iCAEYI,Q,EAAU;AACrB,UAAIC,KAAK,GAAG,IAAZ;AACA,WAAKT,KAAL,CACGU,SADH,CACa;AACTC,QAAAA,MAAM,EAAE,KADC;AAETC,QAAAA,GAAG,0BAAmB,KAAKZ,KAAL,CAAWO,IAAX,CAAgBM,EAAnC,CAFM;AAGTC,QAAAA,IAAI,EAAE;AACJP,UAAAA,IAAI,EAAEC;AADF,SAHG;AAMTO,QAAAA,OAAO,EAAE;AAAE,yCAA+B;AAAjC;AANA,OADb,EASGC,IATH,CASQ,UAASC,QAAT,EAAmB;AACvBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAR,QAAAA,KAAK,CAACT,KAAN,CAAYoB,UAAZ,CAAuBH,QAAQ,CAACH,IAAT,CAAcA,IAArC;AACD,OAZH,EAaGO,KAbH,CAaS,UAASC,KAAT,EAAgB;AACrBJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AACD,OAfH;AAgBD;;;6BAEQ;AACPJ,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,aACE;AAAK,QAAA,SAAS,EAAC,2BAAf;AAA2C,QAAA,EAAE,EAAC,cAA9C;AAA6D,QAAA,IAAI,EAAC,KAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AACE,QAAA,QAAQ,EAAEvB,YADZ;AAEE,QAAA,UAAU,EAAE,KAAKK,UAAL,EAFd;AAGE,QAAA,QAAQ,EAAE,IAHZ;AAIE,QAAA,UAAU,EAAE,KAAKE,YAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAOE,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAC,OAAf;AAAuB,QAAA,OAAO,EAAE,KAAKH,KAAL,CAAWO,IAAX,CAAgBM,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CADF;AAWD;;;;EAhDqCpB,S;;SAAnBM,U","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport HocForm from \"../Shared/HocForm\";\nimport LeadEditForm from \"./LeadEditForm\";\nimport { LeadFields } from \"../../Utilities/FormsModel\";\nimport Comment from \"../Shared/Comment/Comment\";\n\nexport default class LeadDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.initfields = this.initfields.bind(this);\n    this.editLeadCall = this.editLeadCall.bind(this);\n  }\n\n  initfields() {\n    let fieldState = new LeadFields();\n    for (let field in fieldState) {\n      fieldState[field].value = this.props.lead[field];\n    }\n    return fieldState;\n  }\n\n  editLeadCall(formData) {\n    let $this = this;\n    this.props\n      .authAxios({\n        method: \"put\",\n        url: `/api/v1/leads/${this.props.lead.id}`,\n        data: {\n          lead: formData\n        },\n        headers: { \"Access-Control-Allow-Origin\": \"*\" }\n      })\n      .then(function(response) {\n        console.log(response);\n        $this.props.updateLead(response.data.data);\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  }\n\n  render() {\n    console.log(\"why you call me\");\n    return (\n      <div className=\"tab-pane fade active show\" id=\"lead-details\" role=\"tab\">\n        <HocForm\n          FormView={LeadEditForm}\n          formFields={this.initfields()}\n          isFilled={true}\n          submitCall={this.editLeadCall}\n        />\n        <Comment owner=\"leads\" ownerId={this.props.lead.id} />\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}