{"ast":null,"code":"import _classCallCheck from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/lala/spalifeandstory/src/components/Shared/Comment/CommentForm.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\n\nvar CommentForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CommentForm, _Component);\n\n  function CommentForm(props) {\n    var _this;\n\n    _classCallCheck(this, CommentForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CommentForm).call(this, props));\n    _this.state = {\n      commentText: \"\",\n      isError: false\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CommentForm, [{\n    key: \"handleChange\",\n    value: function handleChange(_ref) {\n      var target = _ref.target;\n      console.log(target.value);\n\n      if (target.value == \"\") {\n        this.setState({\n          isError: true,\n          commentText: \"\"\n        });\n      } else {\n        this.setState({\n          commentText: target.value,\n          isError: false\n        });\n      }\n\n      console.log(this.state.commentText);\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var $this = this;\n\n      if (this.state.commentText == \"\") {\n        this.setState({\n          isError: true\n        });\n        return;\n      }\n\n      e.preventDefault();\n      axios({\n        method: \"post\",\n        url: \"/api/v1/leads/\".concat(this.props.ownerId, \"/submit_comment\"),\n        data: {\n          comment: {\n            comment_text: this.state.commentText,\n            user_id: 1\n          }\n        },\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      }).then(function (response) {\n        console.log(response);\n        $this.setState({\n          commentText: \"\"\n        });\n        $this.props.updateContent(response.data.data);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"comment-fld\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"comments\",\n        onChange: this.handleChange,\n        value: this.state.commentText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), this.state.isError ? React.createElement(\"small\", {\n        id: \"comment-error\",\n        className: \"form-text form-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Comment Is Required\") : \"\", React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-outline-secondary\",\n        onClick: this.handleSubmit,\n        disabled: this.state.isError,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-location-arrow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return CommentForm;\n}(Component);\n\nexport default CommentForm;","map":{"version":3,"sources":["/home/lala/spalifeandstory/src/components/Shared/Comment/CommentForm.js"],"names":["React","Component","axios","CommentForm","props","state","commentText","isError","handleChange","bind","handleSubmit","target","console","log","value","setState","e","$this","preventDefault","method","url","ownerId","data","comment","comment_text","user_id","headers","then","response","updateContent","catch","error"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nclass CommentForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      commentText: \"\",\n      isError: false\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange({ target }) {\n    console.log(target.value);\n    if (target.value == \"\") {\n      this.setState({\n        isError: true,\n        commentText: \"\"\n      });\n    } else {\n      this.setState({\n        commentText: target.value,\n        isError: false\n      });\n    }\n    console.log(this.state.commentText);\n  }\n\n  handleSubmit(e) {\n    const $this = this;\n    if (this.state.commentText == \"\") {\n      this.setState({\n        isError: true\n      });\n      return;\n    }\n    e.preventDefault();\n    axios({\n      method: \"post\",\n      url: `/api/v1/leads/${this.props.ownerId}/submit_comment`,\n      data: {\n        comment: {\n          comment_text: this.state.commentText,\n          user_id: 1\n        }\n      },\n      headers: { \"Access-Control-Allow-Origin\": \"*\" }\n    })\n      .then(function(response) {\n        console.log(response);\n        $this.setState({\n          commentText: \"\"\n        });\n        $this.props.updateContent(response.data.data);\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"comment-fld\">\n        <input\n          type=\"text\"\n          name=\"comments\"\n          onChange={this.handleChange}\n          value={this.state.commentText}\n        />\n        {this.state.isError ? (\n          <small id=\"comment-error\" className=\"form-text form-error\">\n            Comment Is Required\n          </small>\n        ) : (\n          \"\"\n        )}\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-secondary\"\n          onClick={this.handleSubmit}\n          disabled={this.state.isError}\n        >\n          <i className=\"fa fa-location-arrow\" />\n        </button>\n      </div>\n    );\n  }\n}\nexport default CommentForm;\n"]},"metadata":{},"sourceType":"module"}