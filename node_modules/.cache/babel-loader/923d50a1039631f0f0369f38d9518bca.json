{"ast":null,"code":"import _defineProperty from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/lala/spalifeandstory/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/lala/spalifeandstory/src/components/Project/ProjectWorkflowEdit.js\";\nimport React, { Component, Fragment } from \"react\";\n\nvar ProjectWorkflow =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProjectWorkflow, _Component);\n\n  function ProjectWorkflow(props) {\n    var _this;\n\n    _classCallCheck(this, ProjectWorkflow);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProjectWorkflow).call(this, props));\n    _this.clickToEdit = _this.clickToEdit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.clickToNonEditable = _this.clickToNonEditable.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleOnChange = _this.handleOnChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleOnSubmit = _this.handleOnSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateProject = _this.updateProject.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.editProjectInList = _this.editProjectInList.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.EditUi = _this.EditUi.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.EditableUi = _this.EditableUi.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      isEditable: false,\n      inputName: \"\",\n      inputValue: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ProjectWorkflow, [{\n    key: \"clickToEdit\",\n    value: function clickToEdit() {\n      this.setState({\n        isEditable: true\n      });\n    }\n  }, {\n    key: \"clickToNonEditable\",\n    value: function clickToNonEditable() {\n      this.setState({\n        isEditable: false,\n        inputName: \"\",\n        inputValue: \"\"\n      });\n    }\n  }, {\n    key: \"handleOnChange\",\n    value: function handleOnChange(e) {\n      if (e.hasOwnProperty(\"target\")) {\n        e.preventDefault();\n        this.setState({\n          inputValue: e.target.value,\n          inputName: e.target.name\n        });\n      } else {\n        console.log(e);\n        this.setState({\n          inputValue: e,\n          inputName: this.props.fieldName\n        });\n      }\n    }\n  }, {\n    key: \"handleOnSubmit\",\n    value: function handleOnSubmit() {\n      console.log(this.state.inputValue);\n      this.updateProject(this.state.inputValue);\n      this.setState({\n        isEditable: false\n      });\n    }\n  }, {\n    key: \"updateProject\",\n    value: function updateProject(value) {\n      this.props.authAxios({\n        method: \"put\",\n        url: \"/api/v1/projects/\".concat(this.props.project.id),\n        data: {\n          project: _defineProperty({}, this.state.inputName, value)\n        },\n        headers: {\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      }).then(this.editProjectInList).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"editProjectInList\",\n    value: function editProjectInList(response) {\n      this.props.updateProject(response.data.data);\n    }\n  }, {\n    key: \"EditUi\",\n    value: function EditUi() {\n      console.log(this.state.inputValue);\n      var inputValue = this.state.inputValue;\n      return React.createElement(\"div\", {\n        id: \"gender-input\",\n        className: \"input-group input-group-sm mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, this.props.render(this.handleOnChange, this.state.inputValue || new Date()), React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"input-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"save-gender\",\n        onClick: this.handleOnSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-save\",\n        style: {\n          fontSize: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }))), React.createElement(\"span\", {\n        className: \"input-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"hide-input-gender\",\n        onClick: this.clickToNonEditable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-times\",\n        style: {\n          fontSize: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })))));\n    }\n  }, {\n    key: \"EditableUi\",\n    value: function EditableUi() {\n      return React.createElement(\"span\", {\n        id: \"span-gender\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, this.props.field, React.createElement(\"button\", {\n        onClick: this.clickToEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-edit mx-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      })));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, this.state.isEditable ? this.EditUi() : this.EditableUi());\n    }\n  }]);\n\n  return ProjectWorkflow;\n}(Component);\n\nexport { ProjectWorkflow as default };","map":{"version":3,"sources":["/home/lala/spalifeandstory/src/components/Project/ProjectWorkflowEdit.js"],"names":["React","Component","Fragment","ProjectWorkflow","props","clickToEdit","bind","clickToNonEditable","handleOnChange","handleOnSubmit","updateProject","editProjectInList","EditUi","EditableUi","state","isEditable","inputName","inputValue","setState","e","hasOwnProperty","preventDefault","target","value","name","console","log","fieldName","authAxios","method","url","project","id","data","headers","then","catch","error","response","render","Date","fontSize","field"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;IAEqBC,e;;;;;AACnB,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,yFAAMA,KAAN;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,uDAAnB;AACA,UAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBD,IAAxB,uDAA1B;AACA,UAAKE,cAAL,GAAsB,MAAKA,cAAL,CAAoBF,IAApB,uDAAtB;AACA,UAAKG,cAAL,GAAsB,MAAKA,cAAL,CAAoBH,IAApB,uDAAtB;AACA,UAAKI,aAAL,GAAqB,MAAKA,aAAL,CAAmBJ,IAAnB,uDAArB;AACA,UAAKK,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBL,IAAvB,uDAAzB;AACA,UAAKM,MAAL,GAAc,MAAKA,MAAL,CAAYN,IAAZ,uDAAd;AACA,UAAKO,UAAL,GAAkB,MAAKA,UAAL,CAAgBP,IAAhB,uDAAlB;AACA,UAAKQ,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE,KADD;AAEXC,MAAAA,SAAS,EAAE,EAFA;AAGXC,MAAAA,UAAU,EAAE;AAHD,KAAb;AAViB;AAelB;;;;kCAEa;AACZ,WAAKC,QAAL,CAAc;AACZH,QAAAA,UAAU,EAAE;AADA,OAAd;AAGD;;;yCAEoB;AACnB,WAAKG,QAAL,CAAc;AACZH,QAAAA,UAAU,EAAE,KADA;AAEZC,QAAAA,SAAS,EAAE,EAFC;AAGZC,QAAAA,UAAU,EAAE;AAHA,OAAd;AAKD;;;mCAEcE,C,EAAG;AAChB,UAAIA,CAAC,CAACC,cAAF,CAAiB,QAAjB,CAAJ,EAAgC;AAC9BD,QAAAA,CAAC,CAACE,cAAF;AACA,aAAKH,QAAL,CAAc;AACZD,UAAAA,UAAU,EAAEE,CAAC,CAACG,MAAF,CAASC,KADT;AAEZP,UAAAA,SAAS,EAAEG,CAAC,CAACG,MAAF,CAASE;AAFR,SAAd;AAID,OAND,MAMO;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAYP,CAAZ;AACA,aAAKD,QAAL,CAAc;AACZD,UAAAA,UAAU,EAAEE,CADA;AAEZH,UAAAA,SAAS,EAAE,KAAKZ,KAAL,CAAWuB;AAFV,SAAd;AAID;AACF;;;qCAEgB;AACfF,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAL,CAAWG,UAAvB;AACA,WAAKP,aAAL,CAAmB,KAAKI,KAAL,CAAWG,UAA9B;AACA,WAAKC,QAAL,CAAc;AACZH,QAAAA,UAAU,EAAE;AADA,OAAd;AAGD;;;kCAEaQ,K,EAAO;AACnB,WAAKnB,KAAL,CACGwB,SADH,CACa;AACTC,QAAAA,MAAM,EAAE,KADC;AAETC,QAAAA,GAAG,6BAAsB,KAAK1B,KAAL,CAAW2B,OAAX,CAAmBC,EAAzC,CAFM;AAGTC,QAAAA,IAAI,EAAE;AACJF,UAAAA,OAAO,sBACJ,KAAKjB,KAAL,CAAWE,SADP,EACmBO,KADnB;AADH,SAHG;AAQTW,QAAAA,OAAO,EAAE;AAAE,yCAA+B;AAAjC;AARA,OADb,EAWGC,IAXH,CAWQ,KAAKxB,iBAXb,EAYGyB,KAZH,CAYS,UAASC,KAAT,EAAgB;AACrBZ,QAAAA,OAAO,CAACC,GAAR,CAAYW,KAAZ;AACD,OAdH;AAeD;;;sCAEiBC,Q,EAAU;AAC1B,WAAKlC,KAAL,CAAWM,aAAX,CAAyB4B,QAAQ,CAACL,IAAT,CAAcA,IAAvC;AACD;;;6BAEQ;AACPR,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAL,CAAWG,UAAvB;AACA,UAAMA,UAAU,GAAG,KAAKH,KAAL,CAAWG,UAA9B;AACA,aACE;AAAK,QAAA,EAAE,EAAC,cAAR;AAAuB,QAAA,SAAS,EAAC,iCAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKb,KAAL,CAAWmC,MAAX,CACC,KAAK/B,cADN,EAEC,KAAKM,KAAL,CAAWG,UAAX,IAAyB,IAAIuB,IAAJ,EAF1B,CADH,EAKE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,EAAE,EAAC,aAAX;AAAyB,QAAA,OAAO,EAAE,KAAK/B,cAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,YAAb;AAA0B,QAAA,KAAK,EAAE;AAAEgC,UAAAA,QAAQ,EAAE;AAAZ,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,EAME;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,EAAE,EAAC,mBAAX;AAA+B,QAAA,OAAO,EAAE,KAAKlC,kBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,aAAb;AAA2B,QAAA,KAAK,EAAE;AAAEkC,UAAAA,QAAQ,EAAE;AAAZ,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CANF,CALF,CADF;AAoBD;;;iCAEY;AACX,aACE;AAAM,QAAA,EAAE,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKrC,KAAL,CAAWsC,KADd,EAEE;AAAQ,QAAA,OAAO,EAAE,KAAKrC,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAG,QAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CADF;AAQD;;;6BAEQ;AACP,aACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKS,KAAL,CAAWC,UAAX,GAAwB,KAAKH,MAAL,EAAxB,GAAwC,KAAKC,UAAL,EAD3C,CADF;AAKD;;;;EAxH0CZ,S;;SAAxBE,e","sourcesContent":["import React, { Component, Fragment } from \"react\";\n\nexport default class ProjectWorkflow extends Component {\n  constructor(props) {\n    super(props);\n    this.clickToEdit = this.clickToEdit.bind(this);\n    this.clickToNonEditable = this.clickToNonEditable.bind(this);\n    this.handleOnChange = this.handleOnChange.bind(this);\n    this.handleOnSubmit = this.handleOnSubmit.bind(this);\n    this.updateProject = this.updateProject.bind(this);\n    this.editProjectInList = this.editProjectInList.bind(this);\n    this.EditUi = this.EditUi.bind(this);\n    this.EditableUi = this.EditableUi.bind(this);\n    this.state = {\n      isEditable: false,\n      inputName: \"\",\n      inputValue: \"\"\n    };\n  }\n\n  clickToEdit() {\n    this.setState({\n      isEditable: true\n    });\n  }\n\n  clickToNonEditable() {\n    this.setState({\n      isEditable: false,\n      inputName: \"\",\n      inputValue: \"\"\n    });\n  }\n\n  handleOnChange(e) {\n    if (e.hasOwnProperty(\"target\")) {\n      e.preventDefault();\n      this.setState({\n        inputValue: e.target.value,\n        inputName: e.target.name\n      });\n    } else {\n      console.log(e);\n      this.setState({\n        inputValue: e,\n        inputName: this.props.fieldName\n      });\n    }\n  }\n\n  handleOnSubmit() {\n    console.log(this.state.inputValue);\n    this.updateProject(this.state.inputValue);\n    this.setState({\n      isEditable: false\n    });\n  }\n\n  updateProject(value) {\n    this.props\n      .authAxios({\n        method: \"put\",\n        url: `/api/v1/projects/${this.props.project.id}`,\n        data: {\n          project: {\n            [this.state.inputName]: value\n          }\n        },\n        headers: { \"Access-Control-Allow-Origin\": \"*\" }\n      })\n      .then(this.editProjectInList)\n      .catch(function(error) {\n        console.log(error);\n      });\n  }\n\n  editProjectInList(response) {\n    this.props.updateProject(response.data.data);\n  }\n\n  EditUi() {\n    console.log(this.state.inputValue);\n    const inputValue = this.state.inputValue;\n    return (\n      <div id=\"gender-input\" className=\"input-group input-group-sm mb-3\">\n        {this.props.render(\n          this.handleOnChange,\n          this.state.inputValue || new Date()\n        )}\n        <div className=\"input-group-append\">\n          <span className=\"input-group-text\">\n            <button id=\"save-gender\" onClick={this.handleOnSubmit}>\n              <i className=\"fa fa-save\" style={{ fontSize: 10 }} />\n            </button>\n          </span>\n          <span className=\"input-group-text\">\n            <button id=\"hide-input-gender\" onClick={this.clickToNonEditable}>\n              <i className=\"fa fa-times\" style={{ fontSize: 10 }} />\n            </button>\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  EditableUi() {\n    return (\n      <span id=\"span-gender\">\n        {this.props.field}\n        <button onClick={this.clickToEdit}>\n          <i className=\"fa fa-edit mx-2\" />\n        </button>\n      </span>\n    );\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {this.state.isEditable ? this.EditUi() : this.EditableUi()}\n      </Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}